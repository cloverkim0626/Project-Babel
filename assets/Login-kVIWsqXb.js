import{c as N,u as y,r as i,j as e,s as r}from"./index-CxDURwdF.js";import{B as h}from"./book-open-HbqM0iWU.js";import{L as k}from"./lock-BryRGCKc.js";import{C as _}from"./circle-alert-DdIaksX2.js";import{A as E}from"./arrow-right-BrORxS2w.js";const C=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S=N("mail",C);function L(){const d=y(),[c,f]=i.useState(""),[g,w]=i.useState(""),[b,l]=i.useState(!1),[x,m]=i.useState(null),[u,p]=i.useState("signin"),v=async a=>{a.preventDefault(),l(!0),m(null);try{if(u==="signup"){const{error:s}=await r.auth.signUp({email:c,password:g,options:{data:{nickname:c.split("@")[0],class_type:"Challenger"}}});if(s)throw s;alert("Sign up successful! You can now log in."),p("signin")}else{const{data:{session:s},error:t}=await r.auth.signInWithPassword({email:c,password:g});if(t)throw t;if(s?.user){const{data:o,error:n}=await r.from("users").select("role").eq("id",s.user.id).single();n||o?.role==="master"||o?.role==="admin"?(console.log("Redirecting to Admin (Profile:",o,"Error:",n,")"),d("/admin")):d("/dashboard")}}}catch(s){m(s.message)}finally{l(!1)}},j=async()=>{l(!0),m(null);const a="student@babel.com",s="password123";try{const{error:t}=await r.auth.signInWithPassword({email:a,password:s});if(t){console.log("Demo account not found, creating...");const{error:o}=await r.auth.signUp({email:a,password:s,options:{data:{nickname:"Demo Student",class_type:"Challenger",role:"student"}}});if(o)throw new Error("Demo creation failed. Check Supabase email confirmation settings.");const{error:n}=await r.auth.signInWithPassword({email:a,password:s});if(n)throw n}d("/dashboard")}catch(t){console.error(t),m("ì²´í—˜íŒ ì…ì¥ ì‹¤íŒ¨: "+t.message)}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#0a0908] flex items-center justify-center p-4 font-mono text-paper relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0a0a0a] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] pointer-events-none"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-purple-900/20 to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((a,s)=>e.jsx("div",{className:"absolute w-1 h-1 bg-babel-gold/30 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},s))}),e.jsx("div",{className:"absolute inset-4 md:inset-8 border border-babel-gold/10 rounded-3xl pointer-events-none"}),e.jsx("div",{className:"absolute inset-6 md:inset-12 border border-babel-gold/5 rounded-2xl pointer-events-none"}),e.jsxs("div",{className:"w-full max-w-md relative z-50",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-babel-gold/20 to-amber-900/10 rounded-full flex items-center justify-center border-2 border-babel-gold/40 shadow-[0_0_60px_rgba(212,175,55,0.3)]",children:e.jsx(h,{className:"text-babel-gold w-10 h-10 md:w-12 md:h-12"})}),e.jsx("div",{className:"absolute inset-0 rounded-full border border-babel-gold/20 animate-ping",style:{animationDuration:"3s"}})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-transparent bg-clip-text bg-gradient-to-r from-babel-gold via-yellow-200 to-babel-gold mb-2 tracking-wider drop-shadow-[0_0_30px_rgba(212,175,55,0.5)]",children:"Voca Universe"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-px bg-gradient-to-r from-transparent to-babel-gold/50"}),e.jsx("span",{className:"text-babel-gold/80 text-lg font-serif tracking-[0.3em]",children:"BABEL"}),e.jsx("div",{className:"w-12 h-px bg-gradient-to-l from-transparent to-babel-gold/50"})]}),e.jsx("p",{className:"text-stone-500 text-xs tracking-[0.2em] uppercase",children:"ì§€ì‹ì˜ ì‹¬ì—°ì—ì„œ ì§„ë¦¬ë¥¼ ì°¾ì•„ë¼"})]}),e.jsxs("div",{className:"bg-gradient-to-b from-stone-900/80 to-black/60 backdrop-blur-xl border border-babel-gold/20 p-6 md:p-8 rounded-2xl shadow-[0_0_100px_rgba(0,0,0,0.8)] relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-babel-gold/30 rounded-tl-xl"}),e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-babel-gold/30 rounded-tr-xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-babel-gold/30 rounded-bl-xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-babel-gold/30 rounded-br-xl"}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs tracking-widest text-babel-gold/70 ml-1 font-medium",children:"ë§ˆë²•ì‚¬ ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-babel-gold/40",size:18}),e.jsx("input",{type:"email",value:c,onChange:a=>f(a.target.value),className:"w-full bg-black/60 border border-babel-gold/20 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-stone-600 focus:border-babel-gold focus:ring-1 focus:ring-babel-gold/30 focus:bg-black/80 outline-none transition-all",placeholder:"your@email.com",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs tracking-widest text-babel-gold/70 ml-1 font-medium",children:"ë¹„ë°€ ì£¼ë¬¸"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-babel-gold/40",size:18}),e.jsx("input",{type:"password",value:g,onChange:a=>w(a.target.value),className:"w-full bg-black/60 border border-babel-gold/20 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-stone-600 focus:border-babel-gold focus:ring-1 focus:ring-babel-gold/30 focus:bg-black/80 outline-none transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]})]}),x&&e.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-xs bg-red-900/20 p-3 rounded-lg border border-red-500/30",children:[e.jsx(_,{size:14}),x]}),e.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-babel-gold to-amber-500 text-black font-bold py-4 rounded-xl hover:from-yellow-400 hover:to-amber-400 transition-all transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(212,175,55,0.4)] flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[b?"ì—°ê²° ì¤‘...":u==="signin"?"ì§€ì‹ì˜ ë¬¸ ì—´ê¸°":"ë§ˆë²•ì‚¬ ë“±ë¡",!b&&e.jsx(E,{size:18})]})]}),e.jsxs("div",{className:"relative py-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-babel-gold/10"})}),e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"bg-stone-900/80 px-4 text-babel-gold/40 text-xs tracking-widest",children:"ë˜ëŠ”"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>j(),disabled:b,className:"w-full bg-babel-gold/10 text-babel-gold py-3.5 rounded-xl hover:bg-babel-gold/20 transition-all border border-babel-gold/20 flex items-center justify-center gap-2 text-sm font-medium",children:[e.jsx(h,{size:16}),"ì²´í—˜íŒ ì…ì¥ (ê²ŒìŠ¤íŠ¸)"]}),e.jsx("button",{type:"button",onClick:async()=>{l(!0);const a="emergency@babel.com",s="babel_emergency_123";try{const{error:t}=await r.auth.signInWithPassword({email:a,password:s});t&&(await r.auth.signUp({email:a,password:s}),await r.auth.signInWithPassword({email:a,password:s})),d("/admin")}catch(t){alert("ê¸´ê¸‰ ì ‘ì† ì‹¤íŒ¨: "+JSON.stringify(t)),l(!1)}},className:"w-full bg-purple-900/20 text-purple-400 text-xs py-2.5 rounded-lg border border-purple-500/20 hover:bg-purple-900/30 transition-colors",children:"ğŸ”® ê´€ë¦¬ì ê¸´ê¸‰ ì ‘ì†"}),e.jsx("button",{onClick:()=>p(u==="signin"?"signup":"signin"),className:"w-full text-stone-500 hover:text-babel-gold text-xs transition-colors py-2",children:u==="signin"?"ìƒˆë¡œìš´ ë§ˆë²•ì‚¬ ë“±ë¡í•˜ê¸°":"ê¸°ì¡´ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸"})]})]}),e.jsx("div",{className:"text-center mt-8 text-stone-600 text-xs tracking-widest",children:e.jsx("p",{children:'"ì–´íœ˜ì˜ ìš°ì£¼ì—ì„œ ì§€ì‹ì˜ ì •ìˆ˜ë¥¼ íƒí—˜í•˜ë¼"'})})]})]})}export{L as default};
